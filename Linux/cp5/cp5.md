# 进程控制：状态，调度和优先级

## 进程调度

抢占式调度和非抢占式调度， linux系统属于抢占式多任务系统。

按照行为模式可以分成两类：
- CPU密集型：进程始终在执行指令，没有太多IO需求
- IO密集型：进程有大量IO请求（如网络IO，等待键盘输入等

另外一种分类方法：
- 交互型进程，人机交互多，对响应时间要求很高，用户输入要求能及时唤醒休眠的进程
- 批处理型进程，如编译，大规模科学计算，不需要及时的响应
- 实时进程，不应该被普通进程和优先级低的进程堵塞，要求较短的响应时间


设计一个系统调度器应该考虑：
1. 公平：每一个进程都可以获得被调度的机会，不会出现饿死现象
2. 良好的调度延迟： 尽量确保进程能在一定的时间范围内被调度，不会出现饥饿现象
3. 差异化：允许重要的进程获得更多的时间
4. 支持软实时进程：软实时进程比普通进程具有更高的优先级
5. 负载均衡：多个cpu的负载要均衡
6. 高吞吐
7. 简单高效：不能在调度算法上花费太多的时间
8. 低耗电：在低负载时减低系统耗电量


设计思路：
1. per cpu run queue，每个cpu都有一个运行队列，每个cpu都从自己的运行队列中选择进程。这样做，
优点是：
- 可以降低CPU间的竞争
- 有良好的局部性。缓存可重用
缺点是：
- 天然不支持负载均衡


